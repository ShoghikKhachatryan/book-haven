<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Checkout</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body>
<!-- Use action="/create-checkout-session.php" if your server is PHP based. -->
<table class="table table-striped table-hover">
    <p>Order ID:
    <span th:text="${orderId}"></span>
    </p>

    <thread>
        <tr>
            <th>Product</th>
            <th>Price</th>
            <th>Quantity</th>
            <th>Sub Total</th>
        </tr>
    </thread>

    <tbody>
    <div th:each="lineItem : ${lineItems}">
        <tr>
            <td th:text="${lineItem.book.name}"></td>
            <td th:text="${lineItem.book.price}"></td>
            <td th:text="${lineItem.quantity}"></td>
            <td th:text="${lineItem.total}"></td>
        </tr>
    </div>
    </tbody>

    <tfoot>
        <tr>
            <td colspan="3">Total: </td>
            <td th:text="${total}"></td>
            <th th:text="${currency}"></th>
        </tr>
    </tfoot>
</table>


<form id="payment-form">
    <div id="payment-element">
        <!-- Elements will create form elements here -->

    </div>


    <button type="submit">Checkout</button>
</form>

<div id="error-message"></div>

<script src="https://js.stripe.com/v3/"></script>
<Script scr="src/main/resources/static/checkout.js"></Script>
</body>
</html>
